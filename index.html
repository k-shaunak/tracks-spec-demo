<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRACKS @ PWC | TRACKS in Research Hub</title>
    
    <!-- Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:ital,wght@0,600;0,700;1,600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        pwc: {
                            base: '#334155',   // Slate 700 - Neural grey text
                            header: '#0f172a', // Slate 900 - Headers
                            bg: '#f8fafc',     // Slate 50 - Background
                            surface: '#ffffff',
                            border: '#e2e8f0', // Slate 200
                            subtle: '#94a3b8', // Slate 400
                            link: '#0f172a'
                        }
                    },
                    typography: {
                        DEFAULT: {
                            css: {
                                color: '#334155',
                            },
                        },
                    },
                }
            }
        }
    </script>

    <!-- React -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { -webkit-font-smoothing: antialiased; background-color: #f8fafc; color: #334155; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .prose-text { line-height: 1.75; }
    </style>
</head>
<body class="bg-pwc-bg text-pwc-base">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // ==========================================
        // 1. DATA STORES (Peer-to-Peer Tone)
        // ==========================================
        
        const CURRICULUM = [
            {
                id: 'foundations',
                title: 'I. Epistemic Foundations',
                subtitle: 'Philosophy of Science & Inquiry',
                intro: "Research design requires alignment between the nature of the reality being studied (ontology), the valid methods for acquiring knowledge of that reality (epistemology), and the specific tools employed. This module reviews the metatheoretical frameworks that underpin rigorous inquiry.",
                readings: [
                    { title: "The Logic of Scientific Discovery", author: "Popper", note: "Falsifiability and demarcation." },
                    { title: "The Structure of Scientific Revolutions", author: "Kuhn", note: "Paradigms and normal science." },
                    { title: "A Realist Theory of Science", author: "Bhaskar", note: "Critical Realism and mechanisms." },
                    { title: "Constructing Social Research", author: "Ragin", note: "Representations of social life." }
                ],
                protocols: [
                    { 
                        title: 'The Theoretical Puzzle', 
                        desc: "Formulating a problem statement driven by theoretical tension rather than empirical novelty.",
                        deliverable: 'Problem Statement', 
                        context: "A 'gap' implies an absence of literature, whereas a 'puzzle' implies a contradiction. Strong research questions often arise from a 'Destabilizing Condition' where current theory predicts Outcome A, but empirical observation suggests Outcome B. This tension drives the inquiry.",
                        steps: [
                            { label: 'Consensus', text: 'The prevailing theoretical expectation.', stem: 'Existing literature generally posits that [Mechanism X] leads to [Outcome A]...' },
                            { label: 'Anomaly', text: 'The empirical deviation.', stem: 'However, observations of [Phenomenon Y] indicate [Outcome B], challenging the universality of...' },
                            { label: 'Significance', text: 'Theoretical implication.', stem: 'Resolving this tension is necessary to clarify the boundary conditions of...' },
                            { label: 'Inquiry', text: 'The governing question.', stem: 'This study investigates the extent to which...' }
                        ],
                        risk: "Gap-Spotting: Motivating research solely by the absence of prior study ('no one has looked at this') rather than the presence of a theoretical contradiction."
                    },
                    { 
                        title: 'Metatheoretical Alignment', 
                        desc: "Ensuring consistency between ontology, epistemology, and method.",
                        deliverable: 'Methodological Defense', 
                        context: "Methodological choices imply ontological commitments. A survey assumes the construct is measurable and stable (positivism/realism); an ethnography may assume the construct is socially negotiated (constructivism). Explicitly stating these assumptions prevents incoherence.",
                        steps: [
                            { label: 'Ontological Stance', text: 'Nature of the object.', stem: 'The study operates from a [Realist/Constructivist] perspective, treating the subject as...' },
                            { label: 'Epistemic Approach', text: 'Nature of knowledge.', stem: 'Knowledge of this phenomenon is best acquired through [Measurement/Interpretation] because...' },
                            { label: 'Methodological Fit', text: 'Tool alignment.', stem: 'Consequently, [Method] is selected to capture the [Variance/Meaning] of...' }
                        ],
                        risk: "Incommensurability: Utilizing methods that contradict the stated ontological position (e.g., searching for objective laws of a socially constructed and fluid phenomenon)."
                    },
                    { 
                        title: 'Logic of Inference', 
                        desc: "Deduction, Induction, and Abduction.",
                        deliverable: 'Inferential Strategy', 
                        context: "Research typically follows one of three logics: Deduction (testing theory against data), Induction (building theory from data), or Abduction (inference to the best explanation for a surprising fact). Clarifying the inferential direction aids in research design.",
                        steps: [
                            { label: 'Logic', text: 'Direction of inference.', stem: 'This study employs an [Abductive] logic, beginning with the surprising observation of...' },
                            { label: 'Theory Role', text: 'A priori vs. A posteriori.', stem: 'Theory serves as a [Heuristic/Hypothesis] to be [Refined/Tested]...' },
                            { label: 'Claim', text: 'Nature of the conclusion.', stem: 'The analysis aims to establish [Causal Necessity/Plausible Explanation]...' }
                        ],
                        risk: "Circular Reasoning: Using the same data to generate a hypothesis and to test it (violating the distinction between exploratory and confirmatory analysis)."
                    }
                ]
            },
            {
                id: 'literature',
                title: 'II. Disciplinary Context',
                subtitle: 'Synthesis & Rhetoric',
                intro: "The literature review establishes the genealogy of the research question. It is an argument, not a summary. The goal is to map the conceptual terrain—consensus, controversy, and silence—to locate the current study within the broader conversation.",
                readings: [
                    { title: "The Craft of Research", author: "Booth et al.", note: "From topic to problem." },
                    { title: "The Science of Scientific Writing", author: "Gopen & Swan", note: "Reader expectation." },
                    { title: "Reviewing the Literature", author: "Grant & Booth", note: "Typologies of review." }
                ],
                protocols: [
                    {
                        title: 'Thematic Synthesis',
                        desc: "Organizing scholarship by concept rather than author.",
                        deliverable: 'Concept Matrix',
                        context: "Advanced reviews organize literature into 'schools of thought' or thematic clusters. This highlights the intellectual relationship between sources (agreement, divergence, extension) rather than treating them as isolated contributions.",
                        steps: [
                            { label: 'Convergence', text: 'Points of agreement.', stem: 'There is broad consensus regarding [Concept A], as evidenced by...' },
                            { label: 'Divergence', text: 'Points of debate.', stem: 'However, scholars disagree on the mechanism of [Concept B], with [School X] arguing...' },
                            { label: 'Lacuna', text: 'The silence.', stem: 'Despite this debate, the literature has largely overlooked...' }
                        ],
                        pitfall: "The List: Sequential summaries of individual papers ('Author A said X, Author B said Y') without synthesis or argument."
                    },
                    {
                        title: 'Rhetorical Structure',
                        desc: "Managing reader expectation at the paragraph level.",
                        deliverable: 'Draft Section',
                        context: "Academic clarity is a function of structure. The 'Topic Sentence' sets the expectation/claim; the 'Stress Position' (end of sentence/paragraph) delivers the emphasis/evidence. Complex ideas require rigid structural scaffolding.",
                        steps: [
                            { label: 'Topic (Pivot)', text: 'The claim.', stem: '[Conceptual Claim]...' },
                            { label: 'Support', text: 'The evidence.', stem: 'This is supported by [Data/Citation]...' },
                            { label: 'Analysis', text: 'The connection.', stem: 'This suggests that...' },
                            { label: 'Transition', text: 'The handoff.', stem: 'Consequently, it is necessary to examine...' }
                        ],
                        pitfall: "Buried Leads: Placing the primary claim in the middle of a paragraph where it has the least rhetorical impact."
                    }
                ]
            },
            {
                id: 'quantitative',
                title: 'III. Causal Identification',
                subtitle: 'Inference in Observational Data',
                intro: "In the absence of randomization, correlation is rarely causation. This module focuses on identification strategies—methods to isolate exogenous variation in observational data to approximate the experimental ideal.",
                readings: [
                    { title: "Mostly Harmless Econometrics", author: "Angrist & Pischke", note: "The Experimental Ideal." },
                    { title: "Causal Inference: The Mixtape", author: "Cunningham", note: "DAGs and Identification." },
                    { title: "Econometric Analysis", author: "Greene", note: "Reference text." }
                ],
                protocols: [
                    { 
                        title: 'Identification Strategy', 
                        desc: "Isolating exogenous variation.",
                        deliverable: 'Identification Assumption', 
                        context: "The credibility of a study rests on the identification strategy, not the estimator (e.g., OLS vs. Probit). The researcher must articulate exactly where the 'random' variation comes from and why selection bias is minimized.",
                        steps: [
                            { label: 'Ideal Counterfactual', text: 'Theoretical baseline.', stem: 'Ideally, we would compare the treated unit to...' },
                            { label: 'Selection Mechanism', text: 'Source of bias.', stem: 'However, treatment assignment is endogenous because...' },
                            { label: 'Exogenous Shock', text: 'The instrument/design.', stem: 'We therefore exploit [Shock/Design] which provides variation independent of...' }
                        ],
                        risk: "Endogeneity: Failure to account for unobserved confounders correlated with both treatment and outcome."
                    },
                    { 
                        title: 'Instrumental Variables', 
                        desc: "Validity and Relevance.",
                        deliverable: '2SLS Specification', 
                        context: "IV requires two conditions: Relevance (Instrument affects Treatment) and Exclusion (Instrument affects Outcome ONLY through Treatment). The Exclusion Restriction is theoretically argued, not statistically tested.",
                        steps: [
                            { label: 'Relevance', text: 'First stage.', stem: 'The instrument is a strong predictor of treatment (F-stat > 10)...' },
                            { label: 'Exclusion', text: 'Theoretical argument.', stem: 'It is argued that [Instrument] has no direct effect on [Outcome] except via...' },
                            { label: 'LATE', text: 'Interpretation.', stem: 'The estimate represents the Local Average Treatment Effect for compliers...' }
                        ],
                        risk: "Weak Instruments: Using an instrument with low predictive power, amplifying bias in the second stage."
                    },
                    { 
                        title: 'Difference-in-Differences', 
                        desc: "Parallel Trends and SUTVA.",
                        deliverable: 'Event Study Plot', 
                        context: "DiD assumes that, absent treatment, the treated and control groups would have evolved similarly (Parallel Trends). It also assumes no spillovers between units (SUTVA).",
                        steps: [
                            { label: 'Parallel Trends', text: 'Pre-trend verification.', stem: 'Pre-treatment coefficients are statistically insignificant, supporting the assumption...' },
                            { label: 'SUTVA', text: 'Non-interference.', stem: 'We assume treatment of unit i does not impact the outcome of unit j...' },
                            { label: 'Specification', text: 'Dynamic effects.', stem: 'We estimate a dynamic model to capture phase-in effects...' }
                        ],
                        risk: "Violation of Parallel Trends: Divergence in pre-treatment periods suggests unobserved time-varying confounders."
                    }
                ]
            },
            {
                id: 'qualitative',
                title: 'IV. Qualitative Rigor',
                subtitle: 'Hermeneutics & Validity',
                intro: "Qualitative rigor is defined by trustworthiness, authenticity, and credibility. This module addresses the systematic analysis of non-numerical data, ensuring that interpretations are grounded in evidence rather than anecdotalism.",
                readings: [
                    { title: "The Coding Manual", author: "Saldaña", note: "Analytic methods." },
                    { title: "The Interpretation of Cultures", author: "Geertz", note: "Thick description." },
                    { title: "Naturalistic Inquiry", author: "Lincoln & Guba", note: "Trustworthiness criteria." }
                ],
                protocols: [
                    { 
                        title: 'Analytic Induction', 
                        desc: "Systematic coding and theory building.",
                        deliverable: 'Codebook', 
                        context: "Coding is the process of organizing data to generate theory (grounded theory) or test concepts. It moves from descriptive (First Cycle) to pattern-finding (Second Cycle).",
                        steps: [
                            { label: 'Open Coding', text: 'Labeling concepts.', stem: 'Initial analysis identifies the following in-vivo codes...' },
                            { label: 'Axial Coding', text: 'Relating categories.', stem: 'These codes cluster around the central phenomenon of...' },
                            { label: 'Saturation', text: 'Sufficiency.', stem: 'Data collection continued until no new themes emerged...' }
                        ],
                        pitfall: "Anecdotalism: Selecting quotes to support a pre-existing bias rather than systematically analyzing the entire corpus."
                    },
                    { 
                        title: 'Source Criticism', 
                        desc: "Archival and document analysis.",
                        deliverable: 'Source Critique', 
                        context: "Documents are not neutral repositories of fact; they are social artifacts produced within specific power structures. Analysis must account for the conditions of production and preservation.",
                        steps: [
                            { label: 'Provenance', text: 'Context of creation.', stem: 'This document was produced by [Actor] with the intent to...' },
                            { label: 'Silence', text: 'Archival exclusion.', stem: 'The record privileges the perspective of [Group] while obscuring...' },
                            { label: 'Triangulation', text: 'Cross-verification.', stem: 'Comparing this with [Source B] reveals a discrepancy in...' }
                        ],
                        pitfall: "Positivism: Treating archival texts as objective data points without contextualizing their subjective origins."
                    }
                ]
            }
        ];

        // --- Resource Bank (Direct & Functional) ---
        const RESOURCE_CATEGORIES = [
            { id: 'macro', name: 'Macro & Finance' },
            { id: 'political', name: 'Pol. Econ & Conflict' },
            { id: 'dev', name: 'Development & Trade' },
            { id: 'micro', name: 'Micro & Survey' },
            { id: 'env', name: 'Environment' },
            { id: 'strategy', name: 'Strategic' },
            { id: 'methods', name: 'Methodology' },
            { id: 'humanities', name: 'Humanities' },
            { id: 'learning', name: 'Self-Guided' }
        ];

        const RESOURCES = {
            macro: [
                { title: 'FRED (St. Louis Fed)', url: 'https://fred.stlouisfed.org/', desc: 'US & Global macro time series.' },
                { title: 'Penn World Table', url: 'https://www.rug.nl/ggdc/productivity/pwt/', desc: 'PPP GDP, Capital, Productivity (Cross-country).' },
                { title: 'IMF Data', url: 'https://data.imf.org/', desc: 'IFS, BOP, DOTS.' },
                { title: 'BIS Statistics', url: 'https://www.bis.org/statistics/', desc: 'Banking, securities, crypto.' },
                { title: 'Federal Reserve Board', url: 'https://www.federalreserve.gov/data.htm', desc: 'US Financial accounts.' },
                { title: 'ECB Data', url: 'https://sdw.ecb.europa.eu/', desc: 'Eurozone monetary data.' },
                { title: 'NBER Data', url: 'https://www.nber.org/research/data', desc: 'Business cycles & macro history.' },
                { title: 'Maddison Project', url: 'https://www.rug.nl/ggdc/historicaldevelopment/maddison/', desc: 'Historical GDP (AD 1-2020).' },
                { title: 'WRDS', url: 'https://wrds-web.wharton.upenn.edu/', desc: 'CRSP/Compustat (Subscription).' },
                { title: 'OECD Stat', url: 'https://stats.oecd.org/', desc: 'OECD member statistics.' }
            ],
            political: [
                { title: 'V-Dem', url: 'https://www.v-dem.net/', desc: 'Varieties of Democracy indices.' },
                { title: 'Polity V', url: 'https://www.systemicpeace.org/polityproject.html', desc: 'Regime authority characteristics.' },
                { title: 'UCDP', url: 'https://ucdp.uu.se/', desc: 'Armed conflict event data.' },
                { title: 'QoG', url: 'https://www.gu.se/en/quality-government/qog-data', desc: 'Quality of Government/Corruption.' },
                { title: 'SIPRI', url: 'https://www.sipri.org/databases', desc: 'Arms transfers and military spend.' },
                { title: 'Freedom House', url: 'https://freedomhouse.org/', desc: 'Political rights/civil liberties.' }
            ],
            dev: [
                { title: 'World Bank Open Data', url: 'https://data.worldbank.org/', desc: 'WDI & Microdata.' },
                { title: 'UN Comtrade', url: 'https://comtrade.un.org/', desc: 'Global merchandise trade.' },
                { title: 'UNCTADstat', url: 'https://unctadstat.unctad.org/', desc: 'Trade & Development.' },
                { title: 'AidData', url: 'https://www.aiddata.org/', desc: 'Development finance tracking.' },
                { title: 'WID', url: 'https://wid.world/', desc: 'World Inequality Database.' },
                { title: 'ILOSTAT', url: 'https://ilostat.ilo.org/', desc: 'Labor statistics.' },
                { title: 'Economic Complexity', url: 'https://atlas.cid.harvard.edu/', desc: 'Trade complexity visualization.' }
            ],
            micro: [
                { title: 'IPUMS International', url: 'https://international.ipums.org/', desc: 'Harmonized census microdata.' },
                { title: 'DHS Program', url: 'https://dhsprogram.com/', desc: 'Demographic and Health Surveys.' },
                { title: 'LSMS', url: 'https://www.worldbank.org/en/programs/lsms', desc: 'Living Standards Measurement Study.' },
                { title: 'World Values Survey', url: 'https://www.worldvaluessurvey.org/', desc: 'Cultural values/beliefs.' },
                { title: 'Afrobarometer', url: 'https://www.afrobarometer.org/', desc: 'African public opinion.' },
                { title: 'Eurobarometer', url: 'https://europa.eu/eurobarometer/', desc: 'EU public opinion.' },
                { title: 'ICPSR', url: 'https://www.icpsr.umich.edu/', desc: 'Social science data archive.' },
                { title: 'PSID', url: 'https://psidonline.isr.umich.edu/', desc: 'Panel Study of Income Dynamics.' },
                { title: 'GSS', url: 'https://gss.norc.org/', desc: 'General Social Survey.' }
            ],
            env: [
                { title: 'NASA Earth Data', url: 'https://earthdata.nasa.gov/', desc: 'Satellite/Climate data.' },
                { title: 'NOAA', url: 'https://www.ncdc.noaa.gov/', desc: 'Weather/Climate.' },
                { title: 'IEA', url: 'https://www.iea.org/data-and-statistics', desc: 'Energy statistics.' },
                { title: 'Our World in Data', url: 'https://ourworldindata.org/', desc: 'Global trends.' },
                { title: 'WHO GHO', url: 'https://www.who.int/data/gho', desc: 'Global Health.' }
            ],
            strategy: [
                { title: 'NBER', url: 'https://www.nber.org/', desc: 'US Economic Research.' },
                { title: 'VoxEU (CEPR)', url: 'https://cepr.org/voxeu', desc: 'EU Policy Analysis.' },
                { title: 'CFR', url: 'https://www.cfr.org/', desc: 'Foreign Relations.' },
                { title: 'Chatham House', url: 'https://www.chathamhouse.org/', desc: 'International Affairs.' },
                { title: 'Bruegel', url: 'https://www.bruegel.org/', desc: 'EU Economics.' },
                { title: 'PIIE', url: 'https://www.piie.com/', desc: 'International Economics.' },
                { title: 'LSE IDEAS', url: 'https://www.lse.ac.uk/ideas', desc: 'Foreign Policy.' }
            ],
            methods: [
                { title: 'SAGE Methods', url: 'https://methods.sagepub.com/', desc: 'Methods library.' },
                { title: 'UCLA IDRE', url: 'https://stats.oarc.ucla.edu/', desc: 'R/Stata/SAS/SPSS guides.' },
                { title: 'Stan', url: 'https://mc-stan.org/', desc: 'Bayesian modeling.' },
                { title: 'Purdue OWL', url: 'https://owl.purdue.edu/', desc: 'Writing/Citation.' },
                { title: 'Equator Network', url: 'https://www.equator-network.org/', desc: 'Reporting guidelines.' },
                { title: 'Zotero', url: 'https://www.zotero.org/', desc: 'Citation management.' },
                { title: 'Overleaf', url: 'https://www.overleaf.com/', desc: 'LaTeX editor.' },
                { title: 'Qualtrics', url: 'https://www.qualtrics.com/', desc: 'Survey platform.' },
                { title: 'NVivo', url: 'https://lumivero.com/products/nvivo/', desc: 'Qualitative analysis.' }
            ],
            humanities: [
                { title: 'HathiTrust', url: 'https://www.hathitrust.org/', desc: 'Digital library.' },
                { title: 'JSTOR DfR', url: 'https://www.jstor.org/dfr/', desc: 'Text analysis.' },
                { title: 'Internet Archive', url: 'https://archive.org/', desc: 'Wayback Machine/Books.' },
                { title: 'Europeana', url: 'https://www.europeana.eu/', desc: 'EU Cultural Heritage.' },
                { title: 'Getty Research', url: 'https://www.getty.edu/research/', desc: 'Art History.' }
            ],
            learning: [
                { title: 'QuantEcon', url: 'https://quantecon.org/', desc: 'Python/Julia for economics.' },
                { title: 'R for Data Science', url: 'https://r4ds.hadley.nz/', desc: 'Modern R programming.' },
                { title: 'MIT OCW', url: 'https://ocw.mit.edu/', desc: 'Open Courseware.' },
                { title: 'Software Carpentry', url: 'https://software-carpentry.org/', desc: 'Research computing.' },
                { title: '3Blue1Brown', url: 'https://www.3blue1brown.com/', desc: 'Visual math.' }
            ]
        };

        // --- Skill Refresher (Functional) ---
        const SKILL_LEVELS = [
            {
                level: "Foundations",
                projects: [
                    { 
                        title: 'Calculus: Derivatives', 
                        domain: 'Math', 
                        purpose: 'Marginal effects.',
                        steps: ['Rate of change', 'Power/Chain Rule'], 
                        link: 'https://www.khanacademy.org/math/calculus-1' 
                    },
                    { 
                        title: 'Linear Algebra: Matrices', 
                        domain: 'Math', 
                        purpose: 'OLS computation (Ax=b).',
                        steps: ['Multiplication', 'Inversion/Eigenvalues'], 
                        link: 'https://www.3blue1brown.com/topics/linear-algebra' 
                    },
                    { 
                        title: 'Probability: Expectations', 
                        domain: 'Stats', 
                        purpose: 'Expectations Operator E[X].',
                        steps: ['E[X] rules', 'Variance/Covariance'], 
                        link: 'https://projects.iq.harvard.edu/stat110' 
                    },
                    { 
                        title: 'Real Analysis: Logic', 
                        domain: 'Math', 
                        purpose: 'Proof construction.',
                        steps: ['Proof techniques', 'Limits'], 
                        link: 'https://ocw.mit.edu/courses/18-100a-real-analysis-fall-2020/' 
                    },
                    { 
                        title: 'Python for Econ', 
                        domain: 'CS', 
                        purpose: 'Scientific computing.',
                        steps: ['Numpy', 'Pandas'], 
                        link: 'https://quantecon.org/' 
                    },
                    { 
                        title: 'Modern R', 
                        domain: 'CS', 
                        purpose: 'Statistical analysis.',
                        steps: ['Tidyverse', 'ggplot2'], 
                        link: 'https://r4ds.hadley.nz/' 
                    },
                    { 
                        title: 'Systematic Search', 
                        domain: 'Library', 
                        purpose: 'Reproducible search.',
                        steps: ['Boolean Logic', 'MeSH/Headings'], 
                        link: 'https://libguides.mit.edu/' 
                    }
                ]
            },
            {
                level: "Core",
                projects: [
                    { 
                        title: 'Econometrics: OLS', 
                        domain: 'Econ', 
                        purpose: 'Estimator derivation.',
                        steps: ['Minimize SSR', 'Normal Equations'], 
                        link: 'https://sites.google.com/site/econometricsacademy/' 
                    },
                    { 
                        title: 'Hypothesis Testing', 
                        domain: 'Stats', 
                        purpose: 'Inference logic.',
                        steps: ['Null Hypothesis', 'Power Analysis'], 
                        link: 'https://www.openintro.org/' 
                    },
                    { 
                        title: 'Data Wrangling', 
                        domain: 'Data', 
                        purpose: 'Data preparation.',
                        steps: ['Merge/Join', 'Reshape (Long/Wide)'], 
                        link: 'https://pandas.pydata.org/docs/user_guide/10min.html' 
                    },
                    { 
                        title: 'Visualization', 
                        domain: 'Data', 
                        purpose: 'Visual communication.',
                        steps: ['Grammar of Graphics', 'Aesthetics'], 
                        link: 'https://r-graphics.org/' 
                    },
                    { 
                        title: 'Interview Design', 
                        domain: 'Methods', 
                        purpose: 'Instrument design.',
                        steps: ['Semi-structured', 'Probing'], 
                        link: 'https://sociology.fas.harvard.edu/' 
                    },
                    { 
                        title: 'Coding (Qual)', 
                        domain: 'Analysis', 
                        purpose: 'Text analysis.',
                        steps: ['In Vivo', 'Pattern Matching'], 
                        link: 'https://us.sagepub.com/en-us/nam/the-coding-manual-for-qualitative-researchers/book272023' 
                    },
                    { 
                        title: 'Time Value of Money', 
                        domain: 'Finance', 
                        purpose: 'Asset pricing.',
                        steps: ['NPV', 'Discounting'], 
                        link: 'https://www.khanacademy.org/economics-finance-domain/core-finance' 
                    }
                ]
            },
            {
                level: "Advanced",
                projects: [
                    { 
                        title: 'IV: 2SLS', 
                        domain: 'Econometrics', 
                        purpose: 'Endogeneity.',
                        steps: ['Exclusion Restriction', '2SLS'], 
                        link: 'https://www.mostlyharmlesseconometrics.com/' 
                    },
                    { 
                        title: 'Panel Fixed Effects', 
                        domain: 'Econometrics', 
                        purpose: 'Unobserved heterogeneity.',
                        steps: ['Within-transformation', 'Clustering'], 
                        link: 'https://mixtape.scunning.com/' 
                    },
                    { 
                        title: 'Time Series: ARIMA', 
                        domain: 'Econometrics', 
                        purpose: 'Forecasting.',
                        steps: ['Stationarity', 'ACF/PACF'], 
                        link: 'https://people.duke.edu/~rnau/411arim.htm' 
                    },
                    { 
                        title: 'Causal: DiD', 
                        domain: 'Econometrics', 
                        purpose: 'Natural experiments.',
                        steps: ['Parallel Trends', 'Event Study'], 
                        link: 'https://www.worldbank.org/en/programs/sief-trust-fund/publication/impact-evaluation-in-practice' 
                    },
                    { 
                        title: 'Causal: RDD', 
                        domain: 'Econometrics', 
                        purpose: 'Cutoff designs.',
                        steps: ['Local Randomization', 'Bandwidth'], 
                        link: 'https://mixtape.scunning.com/' 
                    },
                    { 
                        title: 'Bayesian MCMC', 
                        domain: 'Stats', 
                        purpose: 'Belief updating.',
                        steps: ['Priors/Posteriors', 'MCMC'], 
                        link: 'https://xcelab.net/rm/statistical-rethinking/' 
                    }
                ]
            },
            {
                level: "Workflow",
                projects: [
                    { 
                        title: 'NLP: Text Mining', 
                        domain: 'CS', 
                        purpose: 'Text as data.',
                        steps: ['Tokenization', 'TF-IDF'], 
                        link: 'https://www.tidytextmining.com/' 
                    },
                    { 
                        title: 'Web Scraping', 
                        domain: 'CS', 
                        purpose: 'Data collection.',
                        steps: ['DOM Parsing', 'Requests'], 
                        link: 'https://realpython.com/' 
                    },
                    { 
                        title: 'GIS: Mapping', 
                        domain: 'Geo', 
                        purpose: 'Spatial analysis.',
                        steps: ['Shapefiles', 'Choropleth'], 
                        link: 'https://www.qgistutorials.com/' 
                    },
                    { 
                        title: 'Git Version Control', 
                        domain: 'Dev', 
                        purpose: 'Collaboration.',
                        steps: ['Commits', 'Branches/Merge'], 
                        link: 'https://swcarpentry.github.io/git-novice/' 
                    },
                    { 
                        title: 'LaTeX', 
                        domain: 'Pub', 
                        purpose: 'Typesetting.',
                        steps: ['BibTeX', 'Structure'], 
                        link: 'https://www.overleaf.com/learn' 
                    }
                ]
            }
        ];

        // ==========================================
        // 2. COMPONENTS
        // ==========================================

        const Navigation = ({ activeTab, setTab }) => (
            <nav className="sticky top-0 z-50 bg-pwc-surface/95 backdrop-blur border-b border-gray-200 shadow-sm">
                <div className="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
                    <div className="flex items-center gap-8">
                        <div className="font-serif font-bold text-lg tracking-tight text-pwc-header cursor-pointer" onClick={() => setTab('home')}>
                            TRACKS @ PWC
                        </div>
                        <div className="hidden md:flex gap-1">
                            {['Research', 'Resource Bank', 'Skill Refresher'].map((t) => (
                                <button 
                                    key={t}
                                    onClick={() => setTab(t.toLowerCase().replace(' ', ''))}
                                    className={`px-4 py-2 text-xs font-bold uppercase tracking-wider transition-colors rounded-md ${activeTab === t.toLowerCase().replace(' ', '') ? 'bg-pwc-header text-white' : 'text-pwc-base hover:text-pwc-header hover:bg-gray-100'}`}
                                >
                                    {t}
                                </button>
                            ))}
                        </div>
                    </div>
                    <div className="flex items-center gap-4">
                        <button onClick={() => setTab('archivist')} className="hidden sm:flex items-center gap-2 px-4 py-2 bg-pwc-header text-white text-xs font-bold uppercase tracking-widest rounded hover:bg-slate-700 transition-colors">
                            <i className="fa-solid fa-flask"></i> Lab
                        </button>
                    </div>
                </div>
            </nav>
        );

        const ResearchView = () => {
            const [activeModuleIndex, setActiveModuleIndex] = useState(0);
            const [activeProtocol, setActiveProtocol] = useState(0);
            const module = CURRICULUM[activeModuleIndex];
            const currentProtocol = module.protocols[activeProtocol];

            return (
                <div className="flex flex-col lg:flex-row h-[calc(100vh-64px)] overflow-hidden">
                    <div className="lg:w-64 bg-pwc-surface border-r border-gray-200 overflow-y-auto hidden lg:block p-6 flex-shrink-0">
                        <h3 className="text-xs font-bold uppercase tracking-widest text-pwc-subtle mb-6">Curriculum</h3>
                        <nav className="space-y-2">
                            {CURRICULUM.map((m, i) => (
                                <button key={i} onClick={() => { setActiveModuleIndex(i); setActiveProtocol(0); }} className={`w-full text-left px-3 py-2 text-sm font-medium rounded-md transition-colors leading-tight ${activeModuleIndex === i ? 'bg-pwc-header text-white shadow-md' : 'text-pwc-base hover:bg-gray-50 hover:text-pwc-header'}`}>
                                    {m.title}
                                </button>
                            ))}
                        </nav>
                    </div>
                    
                    <div className="flex-1 overflow-y-auto bg-pwc-bg p-8 lg:p-16">
                        <div className="max-w-4xl mx-auto fade-in">
                            {/* Module Header */}
                            <div className="mb-10 pb-8 border-b border-gray-200">
                                <span className="text-xs font-bold uppercase tracking-widest text-pwc-subtle mb-2 block">{module.title}</span>
                                <h2 className="text-4xl font-serif font-bold text-pwc-header mb-4">{module.subtitle}</h2>
                                <p className="text-lg text-pwc-base leading-relaxed font-serif italic mb-8 border-l-2 border-pwc-border pl-4">{module.intro}</p>
                                
                                <div className="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                                    <h4 className="text-xs font-bold uppercase tracking-widest text-pwc-subtle mb-4 border-b border-gray-100 pb-2">Key References</h4>
                                    <ul className="text-sm space-y-3">
                                        {module.readings.map((reading, i) => (
                                            <li key={i} className="text-pwc-base flex gap-2">
                                                <i className="fa-solid fa-book text-gray-300 mt-1"></i>
                                                <span>
                                                    <span className="font-bold">{reading.title}</span> 
                                                    <span className="text-pwc-subtle"> ({reading.author})</span>
                                                    <span className="text-pwc-subtle block text-xs mt-0.5">{reading.note}</span>
                                                </span>
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            </div>

                            {/* Protocols Selection */}
                            <div className="flex overflow-x-auto gap-2 mb-8 pb-2">
                                {module.protocols.map((p, i) => (
                                    <button key={i} onClick={() => setActiveProtocol(i)} className={`flex-shrink-0 px-4 py-2 text-xs font-bold rounded-full border transition-all ${activeProtocol === i ? 'bg-pwc-header text-white border-pwc-header shadow-md' : 'bg-white text-pwc-base border-gray-200 hover:border-pwc-subtle'}`}>
                                        {p.title}
                                    </button>
                                ))}
                            </div>

                            {/* Active Protocol Content */}
                            <div className="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden fade-in">
                                <div className="p-8 lg:p-10">
                                    <div className="flex justify-between items-start mb-6">
                                        <div>
                                            <h4 className="text-2xl font-serif font-bold text-pwc-header mb-2">{currentProtocol.title}</h4>
                                            <p className="text-sm text-pwc-subtle">{currentProtocol.desc}</p>
                                        </div>
                                        {currentProtocol.deliverable && <div className="text-right">
                                            <span className="block text-[10px] font-bold uppercase text-pwc-subtle mb-1">Output</span>
                                            <span className="text-xs font-bold bg-gray-50 px-3 py-1.5 rounded border border-gray-200">{currentProtocol.deliverable}</span>
                                        </div>}
                                    </div>

                                    {/* Context Block */}
                                    {currentProtocol.context && (
                                        <div className="mb-8 p-6 bg-gray-50 border-l-4 border-gray-300 rounded-r">
                                            <span className="text-xs font-bold uppercase tracking-widest text-pwc-subtle mb-2 block">Theoretical Context</span>
                                            <p className="text-sm text-pwc-base leading-relaxed">{currentProtocol.context}</p>
                                        </div>
                                    )}
                                    
                                    <div className="space-y-8 relative">
                                        <div className="absolute left-3 top-2 bottom-2 w-0.5 bg-gray-100"></div>
                                        {currentProtocol.steps.map((step, i) => (
                                            <div key={i} className="flex gap-6 relative">
                                                <div className="flex-shrink-0 w-7 h-7 rounded-full bg-white border-2 border-pwc-header text-pwc-header flex items-center justify-center text-xs font-bold z-10">{i+1}</div>
                                                <div className="pt-0.5 w-full">
                                                    <span className="text-sm font-bold text-pwc-header block mb-1">{step.label}</span>
                                                    <p className="text-sm text-pwc-subtle mb-3 leading-relaxed">{step.text}</p>
                                                    {step.stem && <div className="text-xs bg-gray-50 border border-gray-200 p-3 rounded text-gray-600 font-mono">"{step.stem}"</div>}
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    {/* Risk Block */}
                                    {currentProtocol.risk && (
                                        <div className="mt-10 pt-8 border-t border-gray-100">
                                            <h5 className="text-xs font-bold text-pwc-subtle uppercase mb-2">Methodological Risk</h5>
                                            <p className="text-sm text-pwc-base leading-relaxed">{currentProtocol.risk}</p>
                                        </div>
                                    )}
                                    {currentProtocol.pitfall && (
                                        <div className="mt-10 pt-8 border-t border-gray-100">
                                            <h5 className="text-xs font-bold text-pwc-subtle uppercase mb-2">Standard Deviation</h5>
                                            <p className="text-sm text-pwc-base leading-relaxed">{currentProtocol.pitfall}</p>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const ResourceBankView = () => {
            const [activeCategory, setActiveCategory] = useState(0);

            return (
                <div className="flex-1 overflow-y-auto bg-pwc-bg p-8 lg:p-12">
                    <div className="max-w-7xl mx-auto">
                        <div className="mb-8">
                            <h2 className="text-3xl font-serif font-bold text-pwc-header mb-2">Resource Bank</h2>
                        </div>
                        <div className="flex flex-col lg:flex-row gap-8 items-start">
                            <div className="lg:w-56 flex-shrink-0 sticky top-4">
                                {RESOURCE_CATEGORIES.map((cat, i) => (
                                    <button key={i} onClick={() => setActiveCategory(i)} className={`w-full text-left px-4 py-2 text-xs font-bold uppercase tracking-wider rounded border-l-2 transition-all mb-1 ${activeCategory === i ? 'bg-white border-pwc-header text-pwc-header shadow-sm' : 'border-transparent text-pwc-subtle hover:bg-white hover:text-pwc-base'}`}>
                                        {cat.name}
                                    </button>
                                ))}
                            </div>
                            <div className="flex-1 w-full">
                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4 fade-in">
                                    {RESOURCES[RESOURCE_CATEGORIES[activeCategory].id].map((res, j) => (
                                        <a key={j} href={res.url} target="_blank" rel="noopener noreferrer" className="bg-white p-5 rounded border border-gray-200 hover:border-pwc-header transition-colors group block h-full shadow-sm">
                                            <div className="flex justify-between items-start mb-2">
                                                <h3 className="font-bold text-pwc-header text-sm group-hover:underline">{res.title}</h3>
                                                <i className="fa-solid fa-arrow-up-right-from-square text-gray-200 text-xs group-hover:text-pwc-header"></i>
                                            </div>
                                            <p className="text-xs text-pwc-subtle leading-relaxed">{res.desc}</p>
                                        </a>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const SkillRefresherView = () => {
            const [level, setLevel] = useState(0);
            return (
                <div className="flex-1 overflow-y-auto bg-pwc-bg p-8 lg:p-12">
                    <div className="max-w-5xl mx-auto">
                        <div className="mb-8">
                            <h2 className="text-3xl font-serif font-bold text-pwc-header mb-2">Skill Refresher</h2>
                        </div>
                        
                        <div className="flex gap-6 mb-8 border-b border-gray-200 overflow-x-auto pb-1">
                            {SKILL_LEVELS.map((lvl, i) => (
                                <button key={i} onClick={() => setLevel(i)} className={`pb-3 text-sm font-bold uppercase tracking-wider transition-colors whitespace-nowrap ${level === i ? 'border-b-2 border-pwc-header text-pwc-header' : 'text-pwc-subtle hover:text-pwc-base'}`}>
                                    {lvl.level}
                                </button>
                            ))}
                        </div>
                        
                        <div className="fade-in">
                            <div className="grid gap-4">
                                {SKILL_LEVELS[level].projects.map((project, i) => (
                                    <div key={i} className="bg-white p-6 rounded border border-gray-200 shadow-sm flex flex-col md:flex-row gap-6 items-center">
                                        <div className="flex-1">
                                            <div className="flex items-center gap-3 mb-1">
                                                <span className="text-[10px] font-bold uppercase text-pwc-subtle tracking-wider">{project.domain}</span>
                                            </div>
                                            <h3 className="text-lg font-bold text-pwc-header mb-1">{project.title}</h3>
                                            <p className="text-xs text-pwc-base italic mb-3 font-serif">Focus: {project.purpose}</p>
                                            
                                            <div className="flex flex-wrap gap-2">
                                                {project.steps.map((step, s) => (
                                                    <span key={s} className="text-xs bg-gray-50 border border-gray-100 px-2 py-1 rounded text-pwc-subtle">{step}</span>
                                                ))}
                                            </div>
                                        </div>
                                        <div className="flex-shrink-0">
                                            {project.link && (
                                                <a href={project.link} target="_blank" rel="noopener noreferrer" className="inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-50 text-pwc-header hover:bg-pwc-header hover:text-white transition-colors border border-gray-200">
                                                    <i className="fa-solid fa-arrow-right text-xs"></i>
                                                </a>
                                            )}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const HomeView = ({ setTab }) => (
            <div className="max-w-4xl mx-auto py-24 px-6 fade-in text-center">
                <div className="mb-8 flex justify-center">
                    <div className="w-12 h-1 bg-pwc-header"></div>
                </div>
                <h1 className="text-5xl md:text-6xl font-serif font-bold text-pwc-header mb-8 tracking-tight leading-tight">Research Hub</h1>
                
                <div className="grid md:grid-cols-2 gap-6 text-left max-w-3xl mx-auto">
                    <div onClick={() => setTab('research')} className="group bg-white p-8 border border-gray-200 rounded hover:border-pwc-header transition-colors cursor-pointer">
                        <div className="text-xs font-bold uppercase tracking-widest text-pwc-subtle mb-4">Curriculum</div>
                        <h2 className="font-serif text-2xl font-bold text-pwc-header mb-2">TRACKS</h2>
                        <p className="text-sm text-pwc-subtle mb-6">Protocols, methodological defense, and epistemic alignment.</p>
                        <span className="text-xs font-bold text-pwc-header group-hover:underline flex items-center gap-2">View Modules <i className="fa-solid fa-arrow-right"></i></span>
                    </div>
                    <div onClick={() => setTab('archivist')} className="group bg-white p-8 border border-gray-200 rounded hover:border-pwc-header transition-colors cursor-pointer">
                        <div className="text-xs font-bold uppercase tracking-widest text-pwc-subtle mb-4">Tool</div>
                        <h2 className="font-serif text-2xl font-bold text-pwc-header mb-2">The Archivist</h2>
                        <p className="text-sm text-pwc-subtle mb-6">Unguided exploration and synthesis.</p>
                        <span className="text-xs font-bold text-pwc-header group-hover:underline flex items-center gap-2">Open Lab <i className="fa-solid fa-arrow-right"></i></span>
                    </div>
                </div>
            </div>
        );

        const App = () => {
            const [tab, setTab] = useState('home');

            return (
                <div className="min-h-screen flex flex-col bg-pwc-bg selection:bg-pwc-header selection:text-white">
                    {tab === 'archivist' && (
                        <div className="fixed inset-0 z-[100] bg-black/90 flex flex-col fade-in">
                            <div className="flex justify-end p-4 bg-black"><button onClick={() => setTab('home')} className="px-4 py-2 bg-white text-black text-xs font-bold uppercase tracking-widest rounded hover:bg-gray-200">Close Lab</button></div>
                            <iframe src="archivist.html" className="flex-1 w-full border-none" title="The Archivist"></iframe>
                        </div>
                    )}
                    <div className={tab === 'archivist' ? 'hidden' : 'contents'}>
                        <Navigation activeTab={tab} setTab={setTab} />
                        <main className="flex-grow">
                            {tab === 'home' && <HomeView setTab={setTab} />}
                            {tab === 'research' && <ResearchView />}
                            {tab === 'resourcebank' && <ResourceBankView />}
                            {tab === 'skillrefresher' && <SkillRefresherView />}
                        </main>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>
